function resizeCanvas() {
    let isPortrait = window.innerHeight > window.innerWidth; // Detecta si el móvil está en vertical
    let isIphone = /iPhone|iPad|iPod/.test(navigator.userAgent) && !window.MSStream;

    const canvas = document.getElementById("particlesCanvas");
    if (canvas) {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        // Si es un iPhone y está en modo vertical, aseguramos el ajuste correcto
        if (isIphone && isPortrait) {
            canvas.style.width = "100vw";
            canvas.style.height = "100vh";
        }
    }
}

// Ejecutar la función en la carga de la página y en cambios de tamaño
window.addEventListener("resize", resizeCanvas);
window.addEventListener("DOMContentLoaded", resizeCanvas);

particlesJS("particles-js", {
    "particles": {

        "number": { 

            "value": 200, 
            "density": { 
                "enable": true, 
                "value_area": isIphone && isPortrait ? 1400 : isMobile ? 800 : 1200 
            } 
        },

        "color": { 
            "value": "#00f7ff",
        },

        "shape": { 

            "type": "circle" 
        },

        "opacity": { 

            "value": 0.7, 
            "random": true 
        },

        "size": { 

            "value": 0.5, 
            "random": true 
        },

        "move": {

            "enable":true,
            "speed":2,
            "direction":"none",
            "out_mode":"bounce",
            "bounce":true
        }

        },

    "interactivity": {

        "detect_on": "canvas",

        "events": {

            "onhover": { 

                "enable": true, 
                "mode": "repulse" 

            },

            "onclick": { 

                "enable": true, 
                "mode": "push" 

            },

            "resize": true
        },

        "modes": {

            "repulse": { 
                
                "distance": 200, 
                "duration": 0.4 
            }
        }
    },

    "retina_detect": true

});
